<div class="container mx-auto mt-10">
  <h1 class="text-center text-indigo-800 text-4xl font-extralight mb-8">
    Buscar endere√ßo por CEP
  </h1>
  <%= form_with url: root_path, method: :get, local: true, class: "text-lg max-w-md mx-auto bg-white p-8 rounded-xl shadow-md" do |form| %>
    <div class="mb-4">
      <%= form.label :cep, "Digite o CEP:", class: "block text-indigo-600" %>
      <%= form.text_field :cep, class: "mt-2 p-2 border rounded w-full" %>
    </div>
    <%= form.submit "Buscar", class: "bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 px-4 rounded" %>
  <% end %>

  <% if @address %>
    <%= render 'shared/address', address: @address %>
  <% end %>

  <% if @error %>
    <div class="mt-6 p-4 max-w-2xl mx-auto bg-blue-100 text-center tracking-wider shadow-lg rounded text-lg text-indigo-900">
      <p><%= @error %></p>
    </div>
  <% end %>

  <div class="shadow-lg mt-4 p-8 mx-auto max-w-4xl rounded">
    <div class="mb-8">
      <h2 class="text-center text-indigo-800 text-2xl font-extralight mb-4">
        Quantidade de buscas por estado
      </h2>

      <div class="grid grid-cols-5 gap-4">
        <% @quantity_by_state.each do |state, count| %>
          <div class="bg-white p-2 rounded shadow-md max-w-40">
            <p class="text-lg text-indigo-800">
              <%= state %>
            </p>
            <p class="text-sm text-gray-600">
              <%= "#{count} #{count > 1 ? 'CEPs buscados' : 'CEP buscado'}" %>
            </p>
          </div>
        <% end %>
      </div>
    </div>
    <div class=" flex justify-between">
      <%= render 'shared/most_searched', most_searched: @most_searched %>

      <%= render 'shared/most_searched_by_state', most_searched_by_state: @most_searched_by_state %>
    </div>

  </div>
</div>